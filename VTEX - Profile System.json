{
    "openapi": "3.0.0",
    "info": {
        "title": "Profile System",
        "description": "Create shopper profiles and manage their information.",
        "contact": {},
        "version": "1.0"
    },
    "servers": [
        {
            "url": "https://{accountName}.{environment}.com.br",
            "description": "VTEX server url",
            "variables": {
                "accountName": {
                    "description": "Name of the VTEX account. Used as part of the URL",
                    "default": "{accountName}"
                },
                "environment": {
                    "description": "Environment to use. Used as part of the URL.",
                    "default": "{environment}"
                }
            }
        }
    ],
    "paths": {
        "/api/storage/profile-system/profiles": {
            "post": {
                "tags": ["Profiles"],
                "summary": "Create client profile",
                "description": "Creates new client profile.\n\r\n\r> Since your store's profile schema is customizable, the schema and examples presented below may differ from yours. Your integration must be adapted accordingly.\n\r\n\r> The `id` field returned by this request is the `profileId` used to retrieve information on a specific profile later.",
                "operationId": "CreateClientProfile",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/ttl"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/profile"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "id": "c2cbebba-214e-40b2-b68f-98f862e755d5",
                                    "meta": {
                                        "version": "27112371-a71b-45d6-b3bc-93436a3a0b4f",
                                        "author": "82a2b53d-39be-4f49-bb7c-8971b58cb7dc",
                                        "creationDate": "2022-01-05T15:41:37.5009471+00:00",
                                        "lastUpdateDate": "2022-01-05T15:41:37.5009471+00:00"
                                    },
                                    "document": {
                                        "firstName": "John",
                                        "lastName": "Doe",
                                        "email": "john.doe@example.com",
                                        "birthDate": "1925-11-17",
                                        "document": "12345678911",
                                        "documentType": "CPF"
                                    }
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}": {
            "get": {
                "tags": ["Profiles"],
                "summary": "Get profile",
                "description": "Retrieves the information of a specific client, by its `profileId`.\n\r\n\r> Since your store's profile schema is customizable, the schema and examples presented below may differ from yours. Your integration must be adapted accordingly.\n\r\n\r> For security and privacy reasons, this request returns masked profile data. For unmasked information, see Get unmasked profile.",
                "operationId": "GetProfile",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {}
                                },
                                "example": [
                                    {
                                        "id": "70caf394-8534-447e-a0ca-1803c669c771",
                                        "meta": {
                                            "version": "abc",
                                            "author": "e40e0b6d-0605-4fa6-8176-1d69fbaf0818",
                                            "creationDate": "13/12/2021T00:00:00Z",
                                            "lastUpdate": "13/12/2021T00:00:00Z"
                                        },
                                        "document": {
                                            "firstName": "J***",
                                            "lastName": "D**",
                                            "email": "j***.d**@e******.c**",
                                            "birthDate": "1925-11-17",
                                            "document": "1**********",
                                            "documentType": "CPF"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "patch": {
                "tags": ["Profiles"],
                "summary": "Updates client profile",
                "description": "Update one or more fields of an existing client profile.\n\r\n\r> Since your store's profile schema is customizable, the schema and examples presented below may differ from yours. Your integration must be adapted accordingly.",
                "operationId": "UpdateClientProfile",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    },
                    {
                        "$ref": "#/components/parameters/ttl"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "firstName": {
                                        "$ref": "#/components/schemas/profile/properties/firstName"
                                    },
                                    "lastName": {
                                        "$ref": "#/components/schemas/profile/properties/lastName"
                                    },
                                    "email": {
                                        "$ref": "#/components/schemas/profile/properties/email"
                                    },
                                    "birthDate": {
                                        "$ref": "#/components/schemas/profile/properties/birthDate"
                                    },
                                    "document": {
                                        "$ref": "#/components/schemas/profile/properties/document"
                                    },
                                    "documentType": {
                                        "$ref": "#/components/schemas/profile/properties/documentType"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "id": "70caf394-8534-447e-a0ca-1803c669c771",
                                    "document": {
                                        "firstName": "Jo√£o",
                                        "lastName": "Gomes",
                                        "email": "john.doe@gmail.com",
                                        "birthDate": "17/11/1992",
                                        "document": "12345678911",
                                        "documentType": "CPF"
                                    },
                                    "meta": {
                                        "version": "bb996089-b77c-4bf3-be35-b99b6d91f91c",
                                        "author": "e40e0b6d-0605-4fa6-8176-1d69fbaf0818",
                                        "creationDate": "13/12/2021T00:00:00Z",
                                        "lastUpdate": "15/12/2021T00:00:00Z"
                                    }
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "delete": {
                "tags": ["Profiles"],
                "summary": "Deletes client profile",
                "description": "Delete a client profile by `profileId`. ",
                "operationId": "DeleteClientProfile",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No content"
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/unmask": {
            "get": {
                "tags": ["Profiles"],
                "summary": "Get unmasked profile",
                "description": "Retrieves unmasked information of a specific client, by its `profileId`.\n\r\n\r> Since your store's profile schema is customizable, the schema and examples presented below may differ from yours. Your integration must be adapted accordingly.",
                "operationId": "GetUnmaskedProfile",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/reason"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {}
                                },
                                "example": [
                                    {
                                        "id": "70caf394-8534-447e-a0ca-1803c669c771",
                                        "document": {
                                            "firstName": "John",
                                            "lastName": "Doe",
                                            "email": "john.doe@example.com",
                                            "birthDate": "1925-11-17",
                                            "document": "12345678911",
                                            "documentType": "CPF"
                                        },
                                        "meta": {
                                            "version": "abc",
                                            "author": "e40e0b6d-0605-4fa6-8176-1d69fbaf0818",
                                            "creationDate": "13/12/2021T00:00:00Z",
                                            "lastUpdate": "13/12/2021T00:00:00Z"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/versions/{profileVersionId}": {
            "get": {
                "tags": ["Profiles"],
                "summary": "Get profile by version",
                "description": "Retrieves the information of a specific version of a client profile.\n\r\n\r> Since your store's profile schema is customizable, the schema and examples presented below may differ from yours. Your integration must be adapted accordingly.\n\r\n\r> For security and privacy reasons, this request returns masked profile data. For unmasked information, see Get unmasked profile by version.",
                "operationId": "GetProfileByVersion",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/profileVersionId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {}
                                },
                                "example": [
                                    {
                                        "id": "70caf394-8534-447e-a0ca-1803c669c771",
                                        "document": {
                                            "firstName": "J***",
                                            "lastName": "G****",
                                            "email": "j***********",
                                            "birthDate": "1925-11-17",
                                            "document": "1********",
                                            "documentType": "CPF"
                                        },
                                        "meta": {
                                            "version": "bb996089-b77c-4bf3-be35-b99b6d91f91c",
                                            "author": "e40e0b6d-0605-4fa6-8176-1d69fbaf0818",
                                            "creationDate": "13/12/2021T00:00:00Z",
                                            "lastUpdate": "15/12/2021T00:00:00Z"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/versions/{profileVersionId}/unmask": {
            "get": {
                "tags": ["Profiles"],
                "summary": "Get unmasked profile by version",
                "description": "Retrieves unmasked information of a specific version of a client profile.\n\r\n\r> Since your store's profile schema is customizable, the schema and examples presented below may differ from yours. Your integration must be adapted accordingly.",
                "operationId": "GetUnmaskedProfileByVersion",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/profileVersionId"
                    },
                    {
                        "$ref": "#/components/parameters/reason"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {}
                                },
                                "example": [
                                    {
                                        "id": "70caf394-8534-447e-a0ca-1803c669c771",
                                        "document": {
                                            "firstName": "Jo√£o",
                                            "lastName": "Gomes",
                                            "email": "john.doe@example.com",
                                            "birthDate": "1925-11-17",
                                            "document": "12345678911",
                                            "documentType": "CPF"
                                        },
                                        "meta": {
                                            "version": "bb996089-b77c-4bf3-be35-b99b6d91f91c",
                                            "author": "e40e0b6d-0605-4fa6-8176-1d69fbaf0818",
                                            "creationDate": "13/12/2021T00:00:00Z",
                                            "lastUpdate": "15/12/2021T00:00:00Z"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/addressess": {
            "post": {
                "tags": ["Addresses"],
                "summary": "Create client address",
                "description": "Creates new address for a given client profile.\n\r\n\r> The `id` field returned by this request is the `addressId` used to retrieve or update information of a specific address later.",
                "operationId": "CreateClientAddress",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/address"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                    "document": {
                                        "postalCode": "20200-000",
                                        "countryName": "Brasil",
                                        "countryCode": "BR",
                                        "administrativeAreaLevel1": "RJ",
                                        "locality": "Locality",
                                        "localityAreaLevel1": "locality area",
                                        "route": "51",
                                        "streetNumber": "999",
                                        "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                    },
                                    "meta": {
                                        "version": "c9c44895-4589-4d0d-a28d-e0e656ca1926",
                                        "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                        "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                        "lastUpdateDate": "2022-01-18T18:51:34.1293829+00:00"
                                    }
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "get": {
                "tags": ["Addresses"],
                "summary": "Get client addresses",
                "description": "Retrieves information of all addresses of a given client, by its `profileId`.\n\r\n\r> For security and privacy reasons, this request returns masked address data. For unmasked information, see Get unmasked client addresses.",
                "operationId": "GetClientAddresses",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {}
                                },
                                "example": [
                                    {
                                        "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                        "document": {
                                                "postalCode": "2****-0**",
                                                "countryName": "B*****",
                                                "countryCode": "BR",
                                                "administrativeAreaLevel1": "RJ",
                                                "locality": "L*******",
                                                "localityAreaLevel1": "locality area",
                                                "route": "51",
                                                "streetNumber": "999",
                                                "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                        },
                                        "meta": {
                                            "version": "c9c44895-4589-4d0d-a28d-e0e656ca1926",
                                            "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                            "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                            "lastUpdateDate": "2022-01-18T18:51:34.1293829+00:00"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/addressess/unmask": {
            "get": {
                "tags": ["Addresses"],
                "summary": "Get unmasked client addresses",
                "description": "Retrieves unmasked information of all addresses of a given client, by its `profileId`",
                "operationId": "GetUnmaskedClientAddresses",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "additionalProperties": true
                                    }
                                },
                                "example": [
                                    {
                                        "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                        "document": {
                                            "postalCode": "20200-000",
                                            "countryName": "Brasil",
                                            "countryCode": "BR",
                                            "administrativeAreaLevel1": "RJ",
                                            "locality": "Locality",
                                            "localityAreaLevel1": "locality area",
                                            "route": "51",
                                            "streetNumber": "999",
                                            "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                        },
                                        "meta": {
                                            "version": "c9c44895-4589-4d0d-a28d-e0e656ca1926",
                                            "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                            "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                            "lastUpdateDate": "2022-01-18T18:51:34.1293829+00:00"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/addressess/{addressId}": {
            "get": {
                "tags": ["Addresses"],
                "summary": "Get address",
                "description": "Retrieves information of a specific address of a given client, by its respectives `adderssId` and `profileId`.\n\r\n\r> For security and privacy reasons, this request returns masked address data. For unmasked information, see Get unmasked address.",
                "operationId": "GetAddress",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/adressId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                    "document": {
                                            "postalCode": "2****-0**",
                                            "countryName": "B*****",
                                            "countryCode": "BR",
                                            "administrativeAreaLevel1": "RJ",
                                            "locality": "L*******",
                                            "localityAreaLevel1": "locality area",
                                            "route": "51",
                                            "streetNumber": "999",
                                            "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                    },
                                    "meta": {
                                        "version": "c9c44895-4589-4d0d-a28d-e0e656ca1926",
                                        "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                        "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                        "lastUpdateDate": "2022-01-18T18:51:34.1293829+00:00"
                                    }
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "patch": {
                "tags": ["Addresses"],
                "summary": "Update client address",
                "description": "Updates one or more fields of an existing address for a given client profile.",
                "operationId": "UpdateClientAddress",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/adressId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "postalCode": {
                                        "$ref": "#/components/schemas/address/properties/postalCode"
                                    },
                                    "countryName": {
                                        "$ref": "#/components/schemas/address/properties/countryName"
                                    },
                                    "countryCode": {
                                        "$ref": "#/components/schemas/address/properties/countryCode"
                                    },
                                    "administrativeAreaLevel1": {
                                        "$ref": "#/components/schemas/address/properties/administrativeAreaLevel1"
                                    },
                                    "locality": {
                                        "$ref": "#/components/schemas/address/properties/locality"
                                    },
                                    "localityAreaLevel1": {
                                        "$ref": "#/components/schemas/address/properties/localityAreaLevel1"
                                    },
                                    "route": {
                                        "$ref": "#/components/schemas/address/properties/countryName"
                                    },
                                    "streetNumber": {
                                        "$ref": "#/components/schemas/address/properties/countryName"
                                    }
                                }

                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                    "document": {
                                        "postalCode": "20200-000",
                                        "countryName": "Brasil",
                                        "countryCode": "BR",
                                        "administrativeAreaLevel1": "RJ",
                                        "locality": "Locality",
                                        "localityAreaLevel1": "locality area",
                                        "route": "34",
                                        "streetNumber": "333",
                                        "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                    },
                                    "meta": {
                                        "version": "86dfae79-1d23-43f2-a643-2fc8f1839461",
                                        "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                        "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                        "lastUpdateDate": "2022-01-18T21:08:02.9364099+00:00"
                                    }
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "delete": {
                "tags": ["Addresses"],
                "summary": "Delete address",
                "description": "Deletes a client's address by `profileId` and `addressId`.",
                "operationId": "DeleteAddress",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/adressId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No content"
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/addressess/{addressId}/unmask": {
            "get": {
                "tags": ["Addresses"],
                "summary": "Get unmasked address",
                "description": "Retrieves unmasked information of a specific address of a given client, by its respectives `adderssId` and `profileId`.",
                "operationId": "GetUnmaskedAddress",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/adressId"
                    },
                    {
                        "$ref": "#/components/parameters/reason"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                    "document": {
                                        "postalCode": "20200-000",
                                        "countryName": "Brasil",
                                        "countryCode": "BR",
                                        "administrativeAreaLevel1": "RJ",
                                        "locality": "Locality",
                                        "localityAreaLevel1": "locality area",
                                        "route": "51",
                                        "streetNumber": "999",
                                        "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                    },
                                    "meta": {
                                        "version": "c9c44895-4589-4d0d-a28d-e0e656ca1926",
                                        "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                        "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                        "lastUpdateDate": "2022-01-18T18:51:34.1293829+00:00"
                                    }
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/addressess/{addressId}/versions/{addressVersionId}": {
            "get": {
                "tags": ["Addresses"],
                "summary": "Get address by version",
                "description": "Retrieves information of a specific version address of a given client.\n\r\n\r> For security and privacy reasons, this request returns masked address data by version. For unmasked information, see Get unmasked address by version.",
                "operationId": "GetAddressByVersion",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/adressId"
                    },
                    {
                        "$ref": "#/components/parameters/addressVersionId"
                    },
                    {
                        "$ref": "#/components/parameters/reason"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                    "document": {
                                            "postalCode": "2****-0**",
                                            "countryName": "B*****",
                                            "countryCode": "BR",
                                            "administrativeAreaLevel1": "RJ",
                                            "locality": "L*******",
                                            "localityAreaLevel1": "locality area",
                                            "route": "51",
                                            "streetNumber": "999",
                                            "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                    },
                                    "meta": {
                                        "version": "c9c44895-4589-4d0d-a28d-e0e656ca1926",
                                        "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                        "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                        "lastUpdateDate": "2022-01-18T18:51:34.1293829+00:00"
                                    }
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/addressess/{addressId}/versions/{addressVersionId}/unmask": {
            "get": {
                "tags": ["Addresses"],
                "summary": "Get unmasked address by version",
                "description": "Retrieves unmasked information of a specific address version of a given client.",
                "operationId": "GetUnmaskedAddressByVersion",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/adressId"
                    },
                    {
                        "$ref": "#/components/parameters/addressVersionId"
                    },
                    {
                        "$ref": "#/components/parameters/reason"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                    "document": {
                                        "postalCode": "20200-000",
                                        "countryName": "Brasil",
                                        "countryCode": "BR",
                                        "administrativeAreaLevel1": "RJ",
                                        "locality": "Locality",
                                        "localityAreaLevel1": "locality area",
                                        "route": "51",
                                        "streetNumber": "999",
                                        "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                    },
                                    "meta": {
                                        "version": "c9c44895-4589-4d0d-a28d-e0e656ca1926",
                                        "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                        "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                        "lastUpdateDate": "2022-01-18T18:51:34.1293829+00:00"
                                    }
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/prospects": {
            "post": {
                "tags": ["Prospects"],
                "summary": "Create prospect",
                "description": "Creates new prospect.\n\r\n\r> The `id` field returned by this request is the `prospectId` used to retrieve information on a specific prospect later.",
                "operationId": "CreateProspect",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/prospect"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {}
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/prospects/{prospectId}": {
            "get": {
                "tags": ["Prospects"],
                "summary": "Get prospect",
                "description": "Retrieves the information of a specific prospect, by its `prospectId`.\n\r\n\r> For security and privacy reasons, this request returns masked prospect data. For unmasked information, see Get unmasked prospect.",
                "operationId": "GetProspect",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/prospectId"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {}
                                },
                                "example": [
                                    {}
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "patch": {
                "tags": ["Prospects"],
                "summary": "Update prospect",
                "description": "Updates one or more fields of an existing prospect.",
                "operationId": "UpdateProspect",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/prospectId"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {}
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {}
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "delete": {
                "tags": ["Prospects"],
                "summary": "Delete prospect",
                "description": "Deletes a prospect by `prospectId`.",
                "operationId": "DeleteProspect",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/prospectId"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No content"
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/prospects/{prospectId}/unmask": {
            "get": {
                "tags": ["Prospects"],
                "summary": "Get unmasked prospect",
                "description": "Retrieves unmasked information of a specific prospect, by its `prospectId`.",
                "operationId": "GetUnmaskedProspect",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/prospectId"
                    },
                    {
                        "$ref": "#/components/parameters/reason"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {}
                                },
                                "example": [
                                    {}
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/purchase-info": {
            "post": {
                "tags": ["Purchase information"],
                "summary": "Create purchase information",
                "description": "Creates purchase information for a given client profile.",
                "operationId": "CreatePurchaseInformation",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {}
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {}
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "get": {
                "tags": ["Purchase information"],
                "summary": "Get purchase information",
                "description": "Retrieves purchase information of a given client, by its `profileId`.\n\r\n\r> For security and privacy reasons, this request returns masked data. For unmasked information, see Get unmasked purchase information.",
                "operationId": "GetPurchaseInformation",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {}
                                },
                                "example": [
                                    {}
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "patch": {
                "tags": ["Purchase information"],
                "summary": "Update purchase information",
                "description": "Updates one or more fields of existing purchase information for a given client profile.",
                "operationId": "UpdatePurchaseInformation",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {}
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {}
                            }
                        }
                    }
                },
                "deprecated": false
            },
            "delete": {
                "tags": ["Purchase information"],
                "summary": "Delete purchase information",
                "description": "Deletes purchase informaiton by `profileId`.",
                "operationId": "DeletePurchaseInformation",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No content"
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/{profileId}/purchase-info/unmask": {
            "get": {
                "tags": ["Purchase information"],
                "summary": "Get unmasked purchase information",
                "description": "Retrieves unmasked purchase information of a given client, by its `profileId`",
                "operationId": "GetUnmaskedPurchaseInformation",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    },
                    {
                        "$ref": "#/components/parameters/profileId"
                    },
                    {
                        "$ref": "#/components/parameters/alternateKey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "example": [
                                    {
                                        "id": "bf82180e-cf9e-4089-9af6-ae1518555992",
                                        "document": {
                                            "postalCode": "20200-000",
                                            "countryName": "Brasil",
                                            "countryCode": "BR",
                                            "administrativeAreaLevel1": "RJ",
                                            "locality": "Locality",
                                            "localityAreaLevel1": "locality area",
                                            "route": "51",
                                            "streetNumber": "999",
                                            "profileId": "70caf394-8534-447e-a0ca-1803c669c771"
                                        },
                                        "meta": {
                                            "version": "c9c44895-4589-4d0d-a28d-e0e656ca1926",
                                            "author": "80aa79a3-aa89-4912-a20e-8ef69af19a6c",
                                            "creationDate": "2022-01-18T18:51:34.1293829+00:00",
                                            "lastUpdateDate": "2022-01-18T18:51:34.1293829+00:00"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/api/storage/profile-system/profiles/schema": {
            "put": {
                "tags": ["Schemas"],
                "summary": "Create or update profile schema",
                "description": "Creates or updates profile schema.\n\r\n\r> Each account has one profile schema. Updating it with this request will substitute the previous version.",
                "operationId": "CreateOrUpdateProfileSchema",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/schema"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {}
                            }
                        }
                    }
                },
                "deprecated": false
            }
        }
    },
    "components": {
        "schemas": {
            "profile": {
                "title": "Profile.",
                "type": "object",
                "required": [
                    "firstName",
                    "lastName",
                    "email",
                    "document",
                    "documentType"
                ],
                "properties": {
                    "firstName": {
                        "type": "string",
                        "description": "Client's first name.",
                        "example": "John"
                    },
                    "lastName": {
                        "type": "string",
                        "description": "Client's last name.",
                        "example": "Doe"
                    },
                    "email": {
                        "type": "string",
                        "description": "Client's email address.",
                        "example": "john.doe@example.com"
                    },
                    "birthDate": {
                        "type": "string",
                        "description": "Client's birth date in ISO 8601 format.",
                        "example": "1925-11-17"
                    },
                    "document": {
                        "type": "string",
                        "description": "Client's document.",
                        "example": "12345678900"
                    },
                    "documentType": {
                        "type": "string",
                        "description": "Type of document informed in `document`.",
                        "example": "CPF"
                    }
                }
            },
            "address": {
                "title": "Address",
                "type": "object",
                "required": [
                    "postalCode",
                    "countryName",
                    "administrativeAreaLevel1",
                    "locality",
                    "localityAreaLevel1",
                    "route",
                    "streetNumber"
                ],
                "properties": {
                    "postalCode": {
                        "type": "string",
                        "description": "Address postal code.",
                        "example": "20200-000"
                    },
                    "countryName": {
                        "type": "string",
                        "description": "Name of the address country.",
                        "example": "Brasil"
                    },
                    "countryCode": {
                        "type": "string",
                        "description": "Two letter country code.",
                        "example": "BR"
                    },
                    "administrativeAreaLevel1": {
                        "type": "string",
                        "description": "Name of administrative area, such as the state or province.",
                        "example": "RJ"
                    },
                    "locality": {
                        "type": "string",
                        "description": "Name of address locality, such as the city.",
                        "example": "Locality"
                    },
                    "localityAreaLevel1": {
                        "type": "string",
                        "description": "Name of the address locality area, such as the neighborhood or district.",
                        "example": "Locality area"
                    },
                    "route": {
                        "type": "string",
                        "description": "Address route or street name.",
                        "example": "51"
                    },
                    "streetNumber": {
                        "type": "string",
                        "description": "Address street number.",
                        "example": "999"
                    }
                }
            },
            "prospect": {},
            "schema": {
                "title": "Schema",
                "type": "object",
                "required": [
                    "title",
                    "type",
                    "description",
                    "required",
                    "properties"
                ],
                "properties": {
                    "title": {
                        "type": "string",
                        "description": "Schema title.",
                        "example": "Client profile schema"
                    },
                    "type": {
                        "type": "string",
                        "description": "Schema type.",
                        "example": "object"
                    },
                    "description": {
                        "type": "string",
                        "description": "Schema's human readable description.",
                        "example": "This schema describes a b2c customer profile."
                    },
                    "required": {
                        "type": "array",
                        "description": "Schema required fields.",
                        "items": {
                            "type": "string",
                            "description": "Key of a field that is rqeuired in the schema."
                        },
                        "example": [
                            "firstName",
                            "lastName",
                            "email",
                            "document",
                            "documentType"
                        ]
                    },
                    "properties": {
                        "type": "object",
                        "description": "Object describing each field in your desired schema. In this object, each property is a new object, describing the field according to: `type` (string); `sensitive` (boolean); `pii` (boolean) and; `items.type` (if field is array).",
                        "properties": {
                            "{fieldName}": {
                                "type": "object",
                                "description": "Schema of any given field described in the `properties` field.",
                                "required": [
                                    "type",
                                    "sensitive",
                                    "pii"
                                ],
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "Schema property type.",
                                        "example": "string"
                                    },
                                    "sensitive": {
                                        "type": "boolean",
                                        "description": "Indicates whether property is sensitive data.",
                                        "example": true
                                    },
                                    "pii": {
                                        "type": "boolean",
                                        "description": "Indicates whether property is Personal Identifiable Information.",
                                        "example": true
                                    },
                                    "items": {
                                        "type": "object",
                                        "description": "Object containing the type of the items if the field is an array. Typically, arrays will contain strings and will be used for fields such as `email`.",
                                        "example": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "documentTTL": {
                        "type": "integer",
                        "description": "Document time to live, in days. After this many days from its creation or update, any document cerated from this schema will be deleted.",
                        "example": 1825
                    },
                    "version": {
                        "type": "integer",
                        "description": "Schema version.",
                        "example": 1
                    },
                    "v-indexed": {
                        "type": "array",
                        "description": "",
                        "example": [
                            "email",
                            "document"
                        ]
                    },
                    "v-unique": {
                        "type": "array",
                        "description": "",
                        "example": [
                            "email",
                            "document"
                        ]
                    }
                }
            }
        },
        "parameters": {
            "Content-Type": {
                "name": "Content-Type",
                "in": "header",
                "description": "Type of the content being sent.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "application/json"
                }
            },
            "Accept": {
                "name": "Accept",
                "in": "header",
                "description": "HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "application/json"
                }
            },
            "profileId": {
                "name": "profileId",
                "in": "path",
                "description": "ID of the client's profile as returned by the Create profile endpoint's response, in the `id` field. It can also be an `alternateKey` according to your custom profile schema. In this case, this request should also send the `alternateKey` parameter.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "70caf394-8534-447e-a0ca-1803c669c771"
                }
            },
            "adressId": {
                "name": "addressId",
                "in": "path",
                "description": "ID of a client's specific address as returned in the Create client address endpoint's response, in the `id` field.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "bf82180e-cf9e-4089-9af6-ae1518555992"
                }
            },
            "prospectId": {
                "name": "prospectId",
                "in": "path",
                "description": "ID of the prospect as returned by the Create prospect endpoint's response, in the `id` field.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "51clk394-8534-447e-a0ca-1803p669c987"
                }
            },
            "profileVersionId": {
                "name": "profileVersionId",
                "in": "path",
                "description": "ID of the version of the client's profile as returned by endpoints that create or update profile information in the `version` field.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "70caf394-8534-447e-a0ca-1803c669c771"
                }
            },
            "addressVersionId": {
                "name": "addressVersionId",
                "in": "path",
                "description": "ID of the version of a given client's address as returned by endpoints that create or update address information in the `version` field.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "86dfae79-1d23-43f2-a643-2fc8f1839461"
                }
            },
            "alternateKey": {
                "name": "alternateKey",
                "in": "query",
                "description": "The `profileId` path parameter may be substituted by other profile fields in this request. To use this feature, you must first set the possible alternate keys with the Update schema API request. Then, when making this request, send the `alternateKey` parameter with a value equal to the key of the field you wish to use as `profileId`.",
                "required": false,
                "style": "form",
                "schema": {
                    "type": "string",
                    "example": "email"
                }
            },
            "ttl": {
                "name": "ttl",
                "in": "query",
                "description": "This parameter sets the the Time To Live (TTL), in days, of the specific document being created or updated with this request. After this period of time from the moment of the request, the document is deleted. By sending this parameter you override the TTL set for the schema.",
                "required": false,
                "style": "form",
                "schema": {
                    "type": "integer",
                    "example": 10
                }
            },
            "reason": {
                "name": "reason",
                "in": "query",
                "description": "Reason for requesting unmasked data.",
                "required": true,
                "style": "form",
                "schema": {
                    "type": "string",
                    "example": "data-validation"
                }
            },
            "onBehalfOf": {
                "name": "onBehalfOf",
                "in": "query",
                "description": "Identification of the unmasked information requester.",
                "required": false,
                "style": "form",
                "schema": {
                    "type": "string",
                    "example": "johndoe@store.com"
                }
            }
        },
        "securitySchemes": {
            "appKey": {
                "type": "apiKey",
                "in": "header",
                "name": "X-VTEX-API-AppKey"
            },
            "appToken": {
                "type": "apiKey",
                "in": "header",
                "name": "X-VTEX-API-AppToken"
            }
        }
    },
    "tags": [
        {
            "name": "Profiles"
        },
        {
            "name": "Addresses"
        },
        {
            "name": "Prospects"
        },
        {
            "name": "Purchase information"
        },
        {
            "name": "Schemas"
        }
    ],
    "security": [
        {
            "appKey": [],
            "appToken": []
        }
    ]
}
